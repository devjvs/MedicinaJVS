<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Estudos por Especialidade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        .module-list-item {
            background-color: #2d3748;
            border-radius: 0.5rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
            margin-bottom: 0.75rem;
            border: 1px solid #4a5568;
        }
        .module-list-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px -2px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .module-list-item.active {
            border-left: 4px solid #63b3ed; /* Blue accent for active module */
            background-color: #4a5568;
        }
        .details-section-container {
            background-color: #2d3748;
            border-radius: 0.5rem;
            border: 1px solid #4a5568;
            height: calc(100vh - 84px); /* Full height minus header and padding */
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Scroll for content overflow */
            scrollbar-width: thin; /* Firefox scrollbar */
            scrollbar-color: #718096 #2d3748; /* Firefox scrollbar color */
        }
        .details-section-container::-webkit-scrollbar {
            width: 6px;
        }
        .details-section-container::-webkit-scrollbar-track {
            background: #2d3748;
            border-radius: 10px;
        }
        .details-section-container::-webkit-scrollbar-thumb {
            background: #718096;
            border-radius: 10px;
        }
        .details-section-container::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }

        .content-viewer-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            background-color: #000; /* Black background for iframe */
            border-radius: 0.375rem;
            overflow: hidden; /* Clip iframe corners */
            margin-bottom: 1rem; /* Space below viewer */
            flex-shrink: 0; /* Prevent shrinking when content list grows */
        }
        #module-content-viewer { /* Iframe styling */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0; /* Remove iframe border */
        }
        #details-content-list-container {
            flex-grow: 1; /* Allow list to take remaining space */
            overflow-y: auto;
            min-height: 120px; /* Minimum height for the list */
        }
        .content-item {
            border-bottom: 1px solid #4a5568;
            transition: background-color 0.15s ease-in-out;
        }
        .content-item:hover {
            background-color: #4a5568;
        }
        .content-item:last-child {
            border-bottom: none;
        }
        .content-item.active-content {
            background-color: #3b82f6; /* Tailwind blue-500 */
            color: white;
        }
        .content-item.active-content .content-title,
        .content-item.active-content .content-status {
            color: white;
        }
         .content-item.active-content svg {
            stroke: white;
            color: white;
        }
        .module-icon-box {
            width: 60px;
            height: 60px;
            border-radius: 0.375rem;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center; /* Explicitly center text within the box */
            font-size: 0.875rem;
            color: white;
            font-weight: 600;
            flex-shrink: 0;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #2d3748;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #718096;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }
        .specialty-header { /* Styling for specialty titles */
            font-size: 0.875rem; /* text-sm */
            font-weight: 700; /* font-bold */
            color: #cbd5e1; /* Tailwind gray-300 */
            margin-bottom: 0.75rem; /* mb-3 */
            padding-top: 0.5rem; /* pt-2 */
            text-align: center; /* Center align specialty names */
            text-transform: uppercase;
            border-bottom: 1px solid #4a5568; /* Separator line */
            padding-bottom: 0.25rem;
        }
        .label-icon-container { /* Container for icon and label like "Aulas" */
            min-height: 2.25rem; /* Ensure consistent height */
            display: flex;
            align-items: center;
            justify-content: center; /* Center icon and text */
        }
        .item-count { /* Styling for counts like "7" for Aulas */
            font-size: 0.875rem; /* text-sm */
            font-weight: 600; /* font-semibold */
            color: #e2e8f0; /* Tailwind gray-200 */
            display: block;
            margin-top: 0.125rem; /* mt-0.5 */
            text-align: center; /* Center count numbers */
        }
        .module-title {
            text-align: center;
        }

        /* Gradient classes for specialty icons */
        .gradient-gray { background-image: linear-gradient(to bottom right, #6b7280, #4b5563); }
        .gradient-red-pink { background-image: linear-gradient(to bottom right, #ef4444, #ec4899); }
        .gradient-sky-blue { background-image: linear-gradient(to bottom right, #38bdf8, #0ea5e9); }
        .gradient-amber-orange { background-image: linear-gradient(to bottom right, #f59e0b, #f97316); }
        .gradient-lime-emerald { background-image: linear-gradient(to bottom right, #84cc16, #10b981); }
        .gradient-fuchsia-pink-alt { background-image: linear-gradient(to bottom right, #c026d3, #db2777); }
        .gradient-yellow-orange-dark { background-image: linear-gradient(to bottom right, #eab308, #d97706); }
        .gradient-violet-grape { background-image: linear-gradient(to bottom right, #8b5cf6, #7c3aed); }
        .gradient-cyan-sky { background-image: linear-gradient(to bottom right, #06b6d4, #0ea5e9); }
        .gradient-indigo-deepPurple { background-image: linear-gradient(to bottom right, #6366f1, #8b5cf6); }
        .gradient-lightGreen-green { background-image: linear-gradient(to bottom right, #86efac, #22c55e); }
        .gradient-blueGray-slate { background-image: linear-gradient(to bottom right, #64748b, #475569); }
        .gradient-cyan-lightBlue { background-image: linear-gradient(to bottom right, #22d3ee, #38bdf8); }
        .gradient-indigo-violet { background-image: linear-gradient(to bottom right, #6366f1, #7c3aed); }
        .gradient-magenta-purple { background-image: linear-gradient(to bottom right, #d946ef, #a855f7); }
        .gradient-green-teal { background-image: linear-gradient(to bottom right, #10b981, #14b8a6); }
        .gradient-pink-purple { background-image: linear-gradient(to bottom right, #ec4899, #a855f7); }
        .gradient-rose-fuchsia { background-image: linear-gradient(to bottom right, #f43f5e, #d946ef); }
        .gradient-yellow-amber { background-image: linear-gradient(to bottom right, #f59e0b, #facc15); }
        .gradient-teal-cyan { background-image: linear-gradient(to bottom right, #14b8a6, #06b6d4); }


        @media (max-width: 1023px) { /* Responsive adjustments for tablets and mobiles */
            .main-content-flex {
                flex-direction: column;
                height: auto;
            }
            #modules-list-column {
                width: 100%;
                max-height: 45vh;
                margin-bottom: 1rem;
                height: auto;
            }
            #details-column {
                width: 100%;
                height: auto;
            }
            .details-section-container {
                height: auto;
                max-height: none;
            }
            .content-viewer-container {
                min-height: 250px;
                padding-bottom: 56.25%;
                height: 0;
            }
            #details-content-list-container{
                max-height: 200px;
                height: auto;
            }
        }
    </style>
</head>
<body class="text-gray-200">

    <header class="bg-gray-800 shadow-md py-3 px-4 sm:px-6 lg:px-8 sticky top-0 z-20">
        <div class="container mx-auto flex justify-between items-center max-w-full px-4">
            <h1 class="text-xl sm:text-2xl font-bold text-gray-100">Plataforma de Estudos</h1>
            <div class="relative">
                <input type="search" id="search-input" placeholder="Pesquisar módulos ou especialidades..." class="pl-10 pr-4 py-2 rounded-lg border bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:px-8 max-w-full" style="height: calc(100vh - 60px);">
        <div class="flex flex-col lg:flex-row gap-6 main-content-flex h-full">
            <div id="modules-list-column" class="w-full lg:w-1/3 xl:w-1/4 h-full overflow-hidden">
                <div id="modules-list-container" class="custom-scrollbar pr-2 h-full overflow-y-auto">
                </div>
            </div>

            <div id="details-column" class="w-full lg:w-2/3 xl:w-3/4 h-full">
                <div id="details-panel" class="details-section-container p-4 sm:p-6">
                    <div class="content-viewer-container">
                        <iframe
                            id="module-content-viewer"
                            class="content-viewer-frame"
                            src="about:blank"
                            title="Visualizador de Conteúdo do Módulo"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin"
                            allowfullscreen>
                        </iframe>
                    </div>

                    <h3 id="materials-header" class="text-sm font-semibold text-gray-300 mb-2 flex-shrink-0 text-center">MATERIAIS DO MÓDULO:</h3>
                    <div id="details-content-list-container" class="custom-scrollbar">
                        <div id="details-content-list">
                             <p class="text-gray-400 initial-details-message">Selecione um módulo para ver os materiais.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <template id="module-list-item-template">
        <div class="module-list-item p-3 flex items-center gap-3">
            <div class="module-icon-box flex-shrink-0">
            </div>
            <div class="flex-grow overflow-hidden flex flex-col items-center">
                <h3 class="module-title relative text-sm font-semibold text-gray-100" style="white-space: normal; overflow-wrap: break-word; line-height: 1.4; left: -36px;">Título do Módulo</h3>
                <div class="mt-2 grid grid-cols-3 gap-x-2 sm:gap-x-3 w-full">
                    <div class="progress-item text-center">
                        <div class="label-icon-container text-xs text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1 text-blue-400"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                            Aulas
                        </div>
                        <span class="item-count aulas-count">0</span>
                    </div>
                    <div class="progress-item text-center">
                        <div class="label-icon-container text-xs text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1 text-green-400"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                            Apostilas
                        </div>
                        <span class="item-count apostilas-count">0</span>
                    </div>
                    <div class="progress-item text-center">
                        <div class="label-icon-container text-xs text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1 text-yellow-400"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>
                            Aulas Bônus
                        </div>
                        <span class="item-count aulasBonus-count">0</span>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="content-item-template">
        <div class="content-item py-2.5 px-2 hover:bg-gray-700 rounded-md cursor-pointer">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <span class="content-title text-sm text-gray-300 font-medium truncate">Título do Conteúdo</span>
                </div>
                <span class="content-status text-xs text-gray-400"></span>
            </div>
        </div>
    </template>

    <script>
        let currentModuleId = 0;
        const createModule = (specialty, shortcode, title, subtitle, contentCounts, iconType, contentLinks = {aulas: [], apostilas: [], aulasBonus: []}) => {
            currentModuleId++;

            const transformLink = (link) => {
                if (link && typeof link === 'string') {
                    return link.replace('/view?usp=drive_link', '/preview?usp=drive_link')
                               .replace('/view?usp=sharing', '/preview?usp=sharing');
                }
                return link;
            };

            const aulasLinks = Array.isArray(contentLinks.aulas) ? contentLinks.aulas.map(transformLink) : [];
            const apostilasLinks = Array.isArray(contentLinks.apostilas) ? contentLinks.apostilas.map(transformLink) : [];
            const aulasBonusLinks = Array.isArray(contentLinks.aulasBonus) ? contentLinks.aulasBonus.map(transformLink) : [];

            const aulasPlaceholders = Array(contentCounts.aulas).fill({}).map((_, i) => ({ title: `Aula ${i + 1}`, url: aulasLinks[i] || "#" }));
            const apostilasPlaceholders = Array(contentCounts.apostilas).fill({}).map((_, i) => ({ title: `Apostila ${i + 1}`, url: apostilasLinks[i] || "#" }));
            const aulasBonusPlaceholders = Array(contentCounts.aulasBonus).fill({}).map((_, i) => ({ title: `Aula Bônus ${i + 1}`, url: aulasBonusLinks[i] || "#" }));

            return {
                specialty,
                id: currentModuleId,
                shortcode,
                title,
                subtitle,
                iconType,
                content: {
                    aulas: aulasPlaceholders,
                    apostilas: apostilasPlaceholders,
                    aulasBonus: aulasBonusPlaceholders
                },
                contentCounts: contentCounts
            };
        };

        const gradientClasses = [
            'gradient-red-pink', 'gradient-sky-blue', 'gradient-amber-orange', 'gradient-lime-emerald',
            'gradient-fuchsia-pink-alt', 'gradient-yellow-orange-dark', 'gradient-violet-grape', 'gradient-cyan-sky',
            'gradient-indigo-deepPurple', 'gradient-lightGreen-green', 'gradient-blueGray-slate', 'gradient-cyan-lightBlue',
            'gradient-indigo-violet', 'gradient-magenta-purple', 'gradient-green-teal', 'gradient-pink-purple',
            'gradient-rose-fuchsia', 'gradient-yellow-amber', 'gradient-teal-cyan', 'gradient-gray'
        ];

        const moduleCountsData = {
            "Obstetrícia Básica": { aulas: 4, apostilas: 3 },
            "Estudo do Parto I": { aulas: 3, apostilas: 3 },
            "Estudo do Parto II": { aulas: 6, apostilas: 3 },
            "Complicações Perinatais": { aulas: 2, apostilas: 3 },
            "Endocrinologia Ginecológica I": { aulas: 2, apostilas: 3 },
            "Endocrinologia Ginecológica II": { aulas: 2, apostilas: 3 },
            "Endocrinologia Ginecológica III": { aulas: 2, apostilas: 3 },
            "Endocrinologia Ginecológica IV": { aulas: 3, apostilas: 3 },
            "Planejamento Familiar": { aulas: 7, apostilas: 3 },
            "Hemorragias da Primeira Metade da Gestação": { aulas: 4, apostilas: 3 },
            "Hemorragias da Segunda Metade da Gestação": { aulas: 3, apostilas: 2 },
            "HAS e Gravidez": { aulas: 1, apostilas: 3 },
            "IST I - Corrimentos Genitais": { aulas: 3, apostilas: 3 },
            "IST II - Úlceras, HPV e Conduta na Violência Sexual": { aulas: 4, apostilas: 3 },
            "DM e Gravidez": { aulas: 1, apostilas: 3 },
            "Sofrimento Fetal": { aulas: 2, apostilas: 3 },
            "Ginecologia Geral I - Dor Pélvica": { aulas: 2, apostilas: 3 },
            "Ginecologia Geral II - Sangramento Uterino": { aulas: 4, apostilas: 3 },
            "Puerpério": { aulas: 4, apostilas: 3 },
            "Uroginecologia I": { aulas: 2, apostilas: 1 },
            "Uroginecologia II": { aulas: 3, apostilas: 1 },
            "Infecções e Gravidez": { aulas: 1, apostilas: 1 },
            "Insuficiência Ovariana Prematura e Fisiológica": { aulas: 3, apostilas: 1 },
            "Gemelaridade": { aulas: 1, apostilas: 1 },
            "Reprodução Humana": { aulas: 1, apostilas: 1 },
            "Medicina Fetal I": { aulas: 2, apostilas: 1 },
            "Medicina Fetal II": { aulas: 2, apostilas: 1 },
            "Medicina Fetal III": { aulas: 1, apostilas: 1 },
            "Mastologia I": { aulas: 1, apostilas: 1 },
            "Mastologia II": { aulas: 1, apostilas: 1 },
            "Mastologia III": { aulas: 1, apostilas: 1 },
            "Mastologia IV": { aulas: 1, apostilas: 1 },
            "Oncologia Ginecológica I": { aulas: 1, apostilas: 1 },
            "Oncologia Ginecológica II": { aulas: 1, apostilas: 1 },
            "Oncologia Ginecológica III": { aulas: 1, apostilas: 1 },
            "Doenças Intercorrentes na Gestação I": { aulas: 5, apostilas: 1 },
            "Doenças Intercorrentes na Gestação II": { aulas: 5, apostilas: 1 },
            "Infantopuberal I": { aulas: 4, apostilas: 1 },
            "Infantopuberal II": { aulas: 1, apostilas: 1 },
            "Ultrassonografia em Ginecologia": { aulas: 1, apostilas: 1 },
            "Endoscopia Ginecológica I - Noções Básicas em Laparoscopia": { aulas: 3, apostilas: 1 },
            "Endoscopia Ginecológica II - Puncões, Pneumoperitônio, Meios de Energia e Contraindicações à Laparoscopia": { aulas: 4, apostilas: 1 },
            "Endoscopia Ginecológica III - Fundamentos da Histeroscopia": { aulas: 1, apostilas: 1 },
            "Sexualidade": { aulas: 1, apostilas: 1 }
        };
        
        // PARSED LINKS DATA (to be populated by parsing user input)
        const moduleLinksData = {
            "Obstetrícia Básica": {
                apostilas: ["https://drive.google.com/file/d/1TA6Xa8KDB5xinQ13vUNINdtGiArBvMKF/view?usp=sharing","https://drive.google.com/file/d/1WIoK-bYpV4yFa2daB8hiTB7yjI2BmFBL/view?usp=sharing","https://drive.google.com/file/d/1YG3zsXh-f9m9Kcs6DgQ9TgSTHkJrC52O/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1nOpOIrDifkv2ZQYvu4WvA68oI8ATayQk/view?usp=sharing","https://drive.google.com/file/d/1ZKzd4YjCOCukm5-P6ie3hATx17rkJTxa/view?usp=sharing","https://drive.google.com/file/d/1CUyZp_gDE8wwzYVHUOvbyzrYQak8pHqU/view?usp=sharing","https://drive.google.com/file/d/1nLCm8szbK5GXNMPyurFvipWwyaYWSPs8/view?usp=sharing"]
            },
            "Endocrinologia Ginecológica I": {
                apostilas: ["https://drive.google.com/file/d/1oKSvb_1dXrAXPsGz4OAzq57xu-oG9dol/view?usp=sharing","https://drive.google.com/file/d/17tLO4l6K0PvHFHhuCuPBvR4D-x3Ockfm/view?usp=sharing","https://drive.google.com/file/d/1fBBQv2-LOGjlOuyWkXBIjnheOkLXVeKC/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1Xyt-SYAn0-b_60UIKe_mqgsbEd40rXO_/view?usp=sharing","https://drive.google.com/file/d/11e_6TdgH7TgnROw5TXw6tGvS-7Gl8lyb/view?usp=sharing"]
            },
            "Estudo do Parto I": {
                apostilas: ["https://drive.google.com/file/d/1j68XupJ9EE1uKgbXu0QdkiBEmq3wksO9/view?usp=sharing","https://drive.google.com/file/d/18t-Xwo-O66uzvRlDMG6kFffq-TDtQpsA/view?usp=sharing","https://drive.google.com/file/d/1Q5D3_kGTB1vjSKzcYRuYswAnc3U68SCA/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1e59n0NbZ3O4f9PsXAcehxDhWiaPAKxIp/view?usp=sharing","https://drive.google.com/file/d/1QPCEZI4BYqGdIq0u6NMdbNp3vUk_CHn2/view?usp=sharing","https://drive.google.com/file/d/19zP3fd626Idt-92sUV87mnKbe2WIqfK4/view?usp=sharing"]
            },
            "Endocrinologia Ginecológica II": {
                apostilas: ["https://drive.google.com/file/d/1yhvGw7nQBEl61SS6XieIfXJXGSlYWSL2/view?usp=sharing","https://drive.google.com/file/d/1InvYLdmn2h_Xk8_uRc36U0gbfg0SMxsE/view?usp=sharing","https://drive.google.com/file/d/1v2ZsRCoSU1Sfvw9jvO3zQ1EAC4u-6fKr/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1rVoJFye_nJ38QlxWsRZJFFNOUGx6RXRC/view?usp=sharing","https://drive.google.com/file/d/1QR84Tqspn3_MFLOKP0AQTkk05XH7mOho/view?usp=sharing"]
            },
            "Estudo do Parto II": {
                apostilas: ["https://drive.google.com/file/d/1lLnVD25HgtAJ3-nb_P06C6FVPeIo4BIT/view?usp=sharing","https://drive.google.com/file/d/1I8gTK_80bo7Q3vB6MZtgI2TVqN8Z8U9d/view?usp=sharing","https://drive.google.com/file/d/1gm2tls2TnhjjAzpvU9jllUJmkmFUL-wf/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1Ks--wHyjIu2eu89TeJTHMApYGCWnsgc0/view?usp=sharing","https://drive.google.com/file/d/1ztCAKgTWQHYQa6bv6-wDVk2AwZasyFIs/view?usp=sharing","https://drive.google.com/file/d/1Y1lsgENBYNYgHAjJorcA-8_xYJQKllts/view?usp=sharing","https://drive.google.com/file/d/1GaI2t34mWH6nA3_MC10taQzW-z_3DXR6/view?usp=sharing","https://drive.google.com/file/d/1D-QQ22sYX3K7yZtZuXHz204c55tcti1k/view?usp=sharing","https://drive.google.com/file/d/1d_NaLTKoUJwRiIdJ6I-xfDnt0i8-Ost5/view?usp=sharing"]
            },
            "Endocrinologia Ginecológica III": {
                apostilas: ["https://drive.google.com/file/d/1ksLtlOTmzrVlsqrHvbCsduDOubI_ddfS/view?usp=sharing","https://drive.google.com/file/d/1hDsBeQjCvLA0fUtm3-0G5bLjvN9iQyYk/view?usp=sharing","https://drive.google.com/file/d/1Z8Rn60Fde-aNh1UiyEx-fsi2WIe4Xk9T/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/169i2dBNcj8aEn7AAnjbWR_SOYnHTnY0C/view?usp=sharing","https://drive.google.com/file/d/1qfECnBZgZOtCkVEoLPpwCn5HvjeYde19/view?usp=sharing"]
            },
            "Complicações Perinatais": {
                apostilas: ["https://drive.google.com/file/d/1FdEmhPmiKyhV92dC76-SU89B7NltCowM/view?usp=sharing","https://drive.google.com/file/d/10-WeuyNvexhUraqMwd7QK7ALPwC4e5eh/view?usp=sharing","https://drive.google.com/file/d/1i0sD7_OKBuOzzBL6A130yeMXieCy7GmR/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1qcQPOLm6f7zrBjw-SmUHr4RQZoMybW4k/view?usp=sharing","https://drive.google.com/file/d/1QE4Bawua_HecGUwzlx07YQ5vp3cNI1D2/view?usp=sharing"]
            },
            "Endocrinologia Ginecológica IV": {
                apostilas: ["https://drive.google.com/file/d/14AEWxnr8e4RxH_1O5x-19kkpWYjabAKE/view?usp=sharing","https://drive.google.com/file/d/1-0dFZzRBKkiW--zN9X7ooAIlnZhHoFfj/view?usp=sharing","https://drive.google.com/file/d/1wP6hRs4BBG2W-MZhFUGePaleN1zMAqzp/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1218Q7O45v_TjZAjn_5Ru0CQC9UkKUFgD/view?usp=sharing","https://drive.google.com/file/d/1JF-h4XO1aZxJjw1L5TTXUR6xsKVb85IL/view?usp=sharing","https://drive.google.com/file/d/1x6s8VFHvHTptEmPH7rM4kivrkmCGNWoN/view?usp=sharing"]
            },
            "Hemorragias da Primeira Metade da Gestação": {
                apostilas: ["https://drive.google.com/file/d/1buNGiluK_fqKn3gdi0u1SLu83ITRwdCz/view?usp=sharing","https://drive.google.com/file/d/1Jk54lb9_p0aEMTId3tw2kA8WFACxsdYb/view?usp=sharing","https://drive.google.com/file/d/1mMXqeIds3TzOcorMH90uUJNs_HqOk3q4/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/15ToERE9MHDzm3QiGuKkaMn9Ryk6t6GVW/view?usp=sharing","https://drive.google.com/file/d/1muEhIj7GEJP6bgDgLIhT9-mSd8b6ZTPI/view?usp=sharing","https://drive.google.com/file/d/1-mBN6EdVAzP9A7cigG--tXB5oXmQOEB7/view?usp=sharing","https://drive.google.com/file/d/1cgoPBMnwJNNqmf_OVwzFqlnpsJQgzJun/view?usp=sharing"]
            },
            "Planejamento Familiar": {
                apostilas: ["https://drive.google.com/file/d/1ShQIXgIdPLOCvChzQrR6gol1fVI-m3l9/view?usp=sharing","https://drive.google.com/file/d/1UKrQ5llIu2DRN502o5_1jc2tqamZHxBp/view?usp=sharing","https://drive.google.com/file/d/1uyjGjkQF5clipmJfCDFcC0jccg5ThfSC/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1ngFSbnJy2LiQMBkAX9rKrPb37VNatGBV/view?usp=sharing","https://drive.google.com/file/d/1Wba48b5mbFDdwXZun07eOFOplVl2DmqW/view?usp=sharing","https://drive.google.com/file/d/1WGH2AHFT_yhGIoiHXo1kIf2pBrVp-IBj/view?usp=sharing","https://drive.google.com/file/d/1Qj13T5rYy1d4brRokq3rgU00lgn3Mljq/view?usp=sharing","https://drive.google.com/file/d/1ZOYuL5SGU1CegNE2iaVEjOGo_e3aL6IB/view?usp=sharing","https://drive.google.com/file/d/1P_ixpNMmTrTFPVFrgVynfCeIi42zGYBt/view?usp=sharing","https://drive.google.com/file/d/1_HqLFPZc2aHJE4KJlSy_oPSuxatj-8QX/view?usp=sharing"]
            },
            "Hemorragias da Segunda Metade da Gestação": {
                apostilas: ["https://drive.google.com/file/d/1JifO44RPmpcb7fUP37c4xmgeHPO8jNMR/view?usp=sharing","https://drive.google.com/file/d/1vqp8UJ5LYFRmyqwuTOfeKdmD0dxjzVHh/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1uMHl3Nkxe6wmqSbfjBXoF4cICMkN4Tjj/view?usp=sharing","https://drive.google.com/file/d/1Bga1sT52lNCuk9eZYA68T4haz3bxDFYF/view?usp=sharing","https://drive.google.com/file/d/1IcGMhEM9NnvZi6dFgueyYpKXnmRdVeIG/view?usp=sharing"]
            },
            "IST I - Corrimentos Genitais": {
                apostilas: ["https://drive.google.com/file/d/1zRpevY3Bx0R_MD9QpWIlA61rmP51X5gP/view?usp=sharing","https://drive.google.com/file/d/1CORWJzY0mNegvgKEUkXYCTjmATw_0w0Q/view?usp=sharing","https://drive.google.com/file/d/1hnd9nBylaXwA-dpBXfSoy_jaNGDoFtlu/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1eY43QJHX0gV1AJ0eoF5iDBPdq_wdMYyN/view?usp=sharing","https://drive.google.com/file/d/1gMBGptdxMtxcaTLL0wMfJkqsGgLMWXNB/view?usp=sharing","https://drive.google.com/file/d/15EIuzIoIUZAwYyyjB2ZlilxXVNs_Qm7l/view?usp=sharing"]
            },
            "HAS e Gravidez": {
                apostilas: ["https://drive.google.com/file/d/1_YWPcPcAiAn_jY1RVatdRQXlAnyrS4Ot/view?usp=sharing","https://drive.google.com/file/d/19_gVMpS_hqpwfvcsovnoO0JP0Z9vs2dV/view?usp=sharing","https://drive.google.com/file/d/11Jx3pC4AtwEKVTkbkxYKaYFeKX4aMVDd/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1fBa9UScVLAflnBlQuzO6SD8LWwvj4jvB/view?usp=drive_link"]
            },
            "IST II - Úlceras, HPV e Conduta na Violência Sexual": {
                apostilas: ["https://drive.google.com/file/d/1GXFAlJ2W5gqGfDov1sab23Y08XlKZaCu/view?usp=sharing","https://drive.google.com/file/d/1xbzkMsH3AtdDQ_WoUMV2ASCyspmfb0Qq/view?usp=sharing","https://drive.google.com/file/d/1XUqDqk_7KKvujyP1FiW8mFpoHisAImB1/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1vpT2pjWl1hv_ACtyBtW44xlcyOBTkFdg/view?usp=sharing","https://drive.google.com/file/d/1_88CBY1X6qqBovgUV6QDlAIpwSJ4_pQf/view?usp=sharing","https://drive.google.com/file/d/18btFI_xqqMYQqrdpAJPZA0vC2QcE5Gr5/view?usp=sharing","https://drive.google.com/file/d/13VP8Ci9puuhbhpJF-NV7TdZ7rLOkrPg9/view?usp=sharing"]
            },
            "DM e Gravidez": {
                apostilas: ["https://drive.google.com/file/d/1ywgN-y5uLpNKB4209oCx0f0x0r7DuoCN/view?usp=sharing","https://drive.google.com/file/d/1wV6MygGnJZJLxwbZJTa9R-re5iUUIoHl/view?usp=sharing","https://drive.google.com/file/d/18-x-CFFELrOdEibM2PhO5V_tSKdvYi_H/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1ySfA-EivPJs3EPwBIuz4B_STsM8WdZfH/view?usp=drive_link"]
            },
            "Ginecologia Geral I - Dor Pélvica": {
                apostilas: ["https://drive.google.com/file/d/1uaiGtWAtKQYfL_tIooS4dOxAqZseuasr/view?usp=sharing","https://drive.google.com/file/d/10TwCYiFsrrYGQ9xIyL6MVyll28zfcKEp/view?usp=sharing","https://drive.google.com/file/d/1xnPfFCv7y_q4G802obpUSnb5Plz32Lwx/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1Qlp_UwiZfomuHbjVGXc0yzJtHJjSZSE5/view?usp=sharing","https://drive.google.com/file/d/1GFopWvjfGOiZ8Qlvg5n2UUZUWETo3A4Z/view?usp=sharing"]
            },
            "Sofrimento Fetal": {
                apostilas: ["https://drive.google.com/file/d/17iznL8-8rtLvxhul3nthfYZpdTqVB_au/view?usp=sharing","https://drive.google.com/file/d/1EZP1h8iorvB2wpnxV8bRgGOgXYcb7_fj/view?usp=sharing","https://drive.google.com/file/d/1xSWAVj2qYfDnV8isfY_2QBYzqpVxz1_w/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1M2nT0YljJJy7DaYszp0sUq58w-heqtJ4/view?usp=sharing","https://drive.google.com/file/d/1SaC6GJ3iubbrJ9ZRapt1MJVPqETUjf9g/view?usp=sharing"]
            },
            "Ginecologia Geral II - Sangramento Uterino": {
                apostilas: ["https://drive.google.com/file/d/1Bs9e_9jJ_6ATcaIMuIJesGrI9_Zg2bwE/view?usp=sharing","https://drive.google.com/file/d/1VOhxN1vFwczh61o60YyHufoZ0V_G-d_1/view?usp=sharing","https://drive.google.com/file/d/1maKaQMW4nVaoKVKrVV04B3JAY2H8CTg3/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1n8iHsjkja4_YxZhLTHG7Lc7iRJV8u1Fw/view?usp=sharing","https://drive.google.com/file/d/1GB-RD9mDavLTeQ_4jYI1sSgpNNjcaHHn/view?usp=sharing","https://drive.google.com/file/d/1jEpU2H0unT9XdqSEOaF4NFOlfaJc8OCG/view?usp=sharing","https://drive.google.com/file/d/1yNjfOZICFuduIA-K07ypTjD4euG8Mv3d/view?usp=sharing"]
            },
            "Puerpério": {
                apostilas: ["https://drive.google.com/file/d/1FisiWB7KddynsjyA3KTXAqUQeaTRUAtp/view?usp=sharing","https://drive.google.com/file/d/1WtwnSr3h-7vIvqaHnmFIS5kWhRGz6_iA/view?usp=sharing","https://drive.google.com/file/d/18kC1J8n2By4HqVbkmcjVuvjSBnL982uZ/view?usp=sharing"],
                aulas: ["https://drive.google.com/file/d/1j8LNP0PFi6E-j9yfJKMT-7zKs5rjCNbd/view?usp=sharing","https://drive.google.com/file/d/1zi3Xq9PshA480gnUh0h7k9n0OXeu9B-o/view?usp=sharing","https://drive.google.com/file/d/1Rhzq2WRDCScPK3JBMB9RLqyhR7zOqKyP/view?usp=sharing","https://drive.google.com/file/d/13-JgSqr4mA2-_u5f2gE_wBFy99f5JWKS/view?usp=sharing"]
            },
            "Uroginecologia I": {
                apostilas: ["https://drive.google.com/file/d/1iewCGpju53rtwMBFt6iNcn0_UEeaYI8f/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1iYaPT0w4eyj3uEWZZxJwuCYC8TMOuWVg/view?usp=sharing","https://drive.google.com/file/d/1iZDsDhotHXmw6dvchpRQ7xuCt6-NxEwb/view?usp=sharing"]
            },
            "Medicina Fetal I": {
                apostilas: ["https://drive.google.com/file/d/16Fc_AyAy0p8RSmIcMXH0fl2pU-dX9VJX/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/19kdK8BCTnvgL7C4ijkxbmfmCffmT_pbp/view?usp=sharing","https://drive.google.com/file/d/1SZRbbsCyMbjwdYpmyQHXbiTrFg7xD1GP/view?usp=sharing"]
            },
            "Uroginecologia II": {
                apostilas: ["https://drive.google.com/file/d/1Yew1J6rmD4JjinzwNhK_f3xlFtOEq6qq/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1PqOBzdjjMCYpwGUtoOArg5fERODFwB9k/view?usp=sharing","https://drive.google.com/file/d/1tPbV7UlXkWYmgI3nW8ljPSZbq2CLNLXJ/view?usp=sharing","https://drive.google.com/file/d/1klvjdTeE1zCfMsR0rkcVh5TvMuwJjSrg/view?usp=sharing"]
            },
            "Infecções e Gravidez": {
                apostilas: ["https://drive.google.com/file/d/1IB3w8gQ-Zlc1knp7bkem4a8ifbr1pf_J/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1f4f2kurI8IlhbmozXJggnAa8aAVpT8FU/view?usp=drive_link"]
            },
            "Insuficiência Ovariana Prematura e Fisiológica": {
                apostilas: ["https://drive.google.com/file/d/1p7ESFgCzwSmhId4PckcQSJOO2m_lP1bz/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1yqt-sPWTf6iZDuXxkqkTp_yJYHVAwO0G/view?usp=sharing","https://drive.google.com/file/d/1LXoD5VeCYZESrJ_VrZxLAvjEdP42xO9j/view?usp=sharing","https://drive.google.com/file/d/1nlfA_jRR8kP4ZIMZFYg-dqTzv2TABEqk/view?usp=sharing"]
            },
            "Gemelaridade": {
                apostilas: ["https://drive.google.com/file/d/1IxX7JkeCKfgvRO8Nb4eANKbi3ARt1VIT/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1rkXQOXAZ-fqZdPJnq9YVrC2UO5DDMeka/view?usp=drive_link"]
            },
            "Reprodução Humana": {
                apostilas: ["https://drive.google.com/file/d/1EfLo3k-XXKTzWQNkGiMzZIaAmcOPhP9Z/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1wU0he3lr_lmJ2RvAPwd1SmBY3HFnjKCf/view?usp=drive_link"]
            },
            "Medicina Fetal II": {
                apostilas: ["https://drive.google.com/file/d/1XY4caGdG1eReDgkBv3D4scmw0oSFp2tE/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1FxWQSLq7eeWKaInSETlTAp5EhsguGWwJ/view?usp=sharing","https://drive.google.com/file/d/1PtrpSBDBM0is-C1iW3IEpyZ1qy2kp6cY/view?usp=sharing"]
            },
            "Medicina Fetal III": {
                apostilas: ["https://drive.google.com/file/d/1CWhupwOwvB7rgsYALyu_unMAR5DL_sF6/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1LkNiNvY79OwwlXd5OYMG2J5wEBy6NT4A/view?usp=drive_link"]
            },
            "Mastologia I": {
                apostilas: ["https://drive.google.com/file/d/1gKKZuqiB6hRQp99x96k-NgP-N3UQ_h78/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1O2IZofmjsi2HfYrDsdZrJRP74Vqx-WgT/view?usp=drive_link"]
            },
            "Mastologia II": {
                apostilas: ["https://drive.google.com/file/d/1KLlKDYCRmcdy6jFEr2d1ijptG90eZL9g/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1sHPp3bfeKEjVb0wWTvg-KeH8FwPsyVNs/view?usp=drive_link"]
            },
            "Mastologia III": {
                apostilas: ["https://drive.google.com/file/d/1wMi8QIwTVVpMek5ViFEunfJSIFonPvRx/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1Eg1SeEYBs1iGN4tk0vxVoBrhXaH9VwAg/view?usp=drive_link"]
            },
            "Mastologia IV": {
                apostilas: ["https://drive.google.com/file/d/1OnZDJEmN-5u23Vg1116tgRn2F4UzXk6B/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1OrZwii-s8gnLmWXTdRdHpnplovTlP1Fk/view?usp=drive_link"]
            },
            "Doenças Intercorrentes na Gestação I": {
                apostilas: ["https://drive.google.com/file/d/1gf5pfPLM-zHYLx1YT3GoltLmwOXFch75/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1YQ852ApY6qg4mvtuZ6ovMEUu2AC1SO5n/view?usp=sharing","https://drive.google.com/file/d/1_nemfqY9msi67VoCLNUdoDWTbvSeH0vc/view?usp=sharing","https://drive.google.com/file/d/1Q4LiSLnn-rse-RmLlH9-QKIGwPNAUgS4/view?usp=sharing","https://drive.google.com/file/d/118oKPxbIFPLL1c28FBMvP_2-lvw1xsdY/view?usp=sharing","https://drive.google.com/file/d/1WvXwB8uxB0IaN7xebXvifKUi5gJUOgOK/view?usp=sharing"]
            },
            "Oncologia Ginecológica I": {
                apostilas: ["https://drive.google.com/file/d/1Fa08txavGIWkTKH7vmPjRsrBceC2Jpkq/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1fje7ztlSWfD065TAf89zSzCA4eyWzwTV/view?usp=drive_link"]
            },
            "Oncologia Ginecológica II": {
                apostilas: ["https://drive.google.com/file/d/1IUi7kw79evUolW22hwujLN1_2OdKVNuQ/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1H3MCLaPkdAlEnctnQWTxyvR0Uflulcvh/view?usp=drive_link"]
            },
            "Oncologia Ginecológica III": {
                apostilas: ["https://drive.google.com/file/d/17EadpoWWPU6An5o9QdfUYs2n6n89SnOs/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1n-9Zc4AlaB3utGOj2sLCYCVCnrwR9TXy/view?usp=drive_link"]
            },
            "Doenças Intercorrentes na Gestação II": {
                apostilas: ["https://drive.google.com/file/d/1oemj790_iUghfM1GMpBmALjMBN0TqIe6/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/13UNivsrA9VZR1WSvmUVUUBu2Y_suorGQ/view?usp=sharing","https://drive.google.com/file/d/1jEtCJANJjBZTUHywbBpJaNJ0OZ-130Bs/view?usp=sharing","https://drive.google.com/file/d/1-DANkIpen5i0y2Vuh-CSmBoBotGTXPXG/view?usp=sharing","https://drive.google.com/file/d/1YzWuyryYB9-orLhyCR31E7S5RkrxrebV/view?usp=sharing","https://drive.google.com/file/d/157sq4YWPU0x9Tw69Lzz_-vGy0AkCWY_K/view?usp=sharing"]
            },
            "Infantopuberal I": {
                apostilas: ["https://drive.google.com/file/d/1x8SS0_hRaT5hYn3eIfdCUK8z00AmZzz3/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/12FxXQRjbnzyaK5uMT1WMrnaCAvwXmGUT/view?usp=sharing","https://drive.google.com/file/d/1CJZ8H4nLNqWnf6mmHDyzYHz7F3JP2ewS/view?usp=sharing","https://drive.google.com/file/d/1CIbTjKAfxpr1o72EZ_Og-iuCLar2KYxc/view?usp=sharing","https://drive.google.com/file/d/1EYn2vIUbNAcCHX4rAYgND07ZGHG9haWd/view?usp=sharing"]
            },
            "Infantopuberal II": {
                apostilas: ["https://drive.google.com/file/d/1n3ifhnYMun_VCqaqFvNE9q5YIioxj51Z/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1lW_00X1fxFUXYtr3Jto_rW8YSDeefLaj/view?usp=drive_link"]
            },
            "Ultrassonografia em Ginecologia": {
                apostilas: ["https://drive.google.com/file/d/1zUHbDuBA1_iv-3IkN9Rz4GYLk04MJ6jd/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1XpyTFuLeYGlu97d8-ZHTk5v-Vl0DRTFI/view?usp=drive_link"]
            },
            "Endoscopia Ginecológica I - Noções Básicas em Laparoscopia": {
                apostilas: ["https://drive.google.com/file/d/1tCWs_NZ13mhYQN0ax2tk4aRZ51ZS7Q1O/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1Dtihkc2kc2YkeIBOcD7-HjWY25kNtCe6/view?usp=sharing","https://drive.google.com/file/d/1mCbnr_XREtA2bCkCQaA4D7J4a_7KM5ij/view?usp=sharing","https://drive.google.com/file/d/1hM8rJsUqkldJtmFvHQDeyNf4GS0gZtlb/view?usp=sharing"]
            },
            "Endoscopia Ginecológica II - Puncões, Pneumoperitônio, Meios de Energia e Contraindicações à Laparoscopia": {
                apostilas: ["https://drive.google.com/file/d/1GmuZ78TjZuDSaZ5v_d7F9NJoB2JgmEqm/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1gRSjgB47XItX2KvDglpIloK_vL_XeKFC/view?usp=sharing","https://drive.google.com/file/d/1BrQBFoWsUP828CllsOigrDP2cS4zTqMZ/view?usp=sharing","https://drive.google.com/file/d/1n8UXbsQZuawZcZezxoW7COfTeBoPk4JS/view?usp=sharing","https://drive.google.com/file/d/1R_dyM_9NIOej8ZXZraHY3bmL3GAoqmdd/view?usp=sharing"]
            },
            "Endoscopia Ginecológica III - Fundamentos da Histeroscopia": {
                apostilas: ["https://drive.google.com/file/d/1XjOrqy71e8RcXBSNFEBK6q3TPV-nndIe/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1GIK2aOtyH0lNxUZh3qbsWC5xlxn2JnAU/view?usp=drive_link"]
            },
            "Sexualidade": {
                apostilas: ["https://drive.google.com/file/d/1WAg77GIU0pqSka9Rtu2gYB67lPZBROHD/view?usp=drive_link"],
                aulas: ["https://drive.google.com/file/d/1QxCemiNBGJ08vT1BJZk6j3HqGISUPn9X/view?usp=drive_link"]
            }
        };


        const newSpecialtiesWithModules = [
            { name: "Obstetrícia Básica", modules: [
                { title: "Obstetrícia Básica", shortcode: "OB" }
            ]},
            { name: "Estudo do Parto", modules: [
                { title: "Estudo do Parto I", shortcode: "EP I" },
                { title: "Estudo do Parto II", shortcode: "EP II" }
            ]},
            { name: "Complicações Perinatais", modules: [
                { title: "Complicações Perinatais", shortcode: "CP" }
            ]},
            { name: "Endocrinologia Ginecológica", modules: [
                { title: "Endocrinologia Ginecológica I", shortcode: "EG I" },
                { title: "Endocrinologia Ginecológica II", shortcode: "EG II" },
                { title: "Endocrinologia Ginecológica III", shortcode: "EG III" },
                { title: "Endocrinologia Ginecológica IV", shortcode: "EG IV" }
            ]},
            { name: "Planejamento Familiar", modules: [
                { title: "Planejamento Familiar", shortcode: "PF" }
            ]},
            { name: "Hemorragias da Gestação", modules: [
                { title: "Hemorragias da Primeira Metade da Gestação", shortcode: "H1MG" },
                { title: "Hemorragias da Segunda Metade da Gestação", shortcode: "H2MG" }
            ]},
            { name: "HAS e Gravidez", modules: [
                { title: "HAS e Gravidez", shortcode: "HASG" }
            ]},
            { name: "IST", modules: [
                { title: "IST I - Corrimentos Genitais", shortcode: "IST I" },
                { title: "IST II - Úlceras, HPV e Conduta na Violência Sexual", shortcode: "IST II" }
            ]},
            { name: "DM e Gravidez", modules: [
                { title: "DM e Gravidez", shortcode: "DMG" }
            ]},
            { name: "Sofrimento Fetal", modules: [
                { title: "Sofrimento Fetal", shortcode: "SF" }
            ]},
            { name: "Ginecologia Geral", modules: [
                { title: "Ginecologia Geral I - Dor Pélvica", shortcode: "GG I" },
                { title: "Ginecologia Geral II - Sangramento Uterino", shortcode: "GG II" }
            ]},
            { name: "Puerpério", modules: [
                { title: "Puerpério", shortcode: "PUERP" }
            ]},
            { name: "Uroginecologia", modules: [
                { title: "Uroginecologia I", shortcode: "UG I" },
                { title: "Uroginecologia II", shortcode: "UG II" }
            ]},
            { name: "Infecções e Gravidez", modules: [
                { title: "Infecções e Gravidez", shortcode: "IG" }
            ]},
            { name: "Insuficiência Ovariana Prematura e Fisiológica", modules: [
                { title: "Insuficiência Ovariana Prematura e Fisiológica", shortcode: "IOPF" }
            ]},
            { name: "Gemelaridade", modules: [
                { title: "Gemelaridade", shortcode: "GEMEL" }
            ]},
            { name: "Reprodução Humana", modules: [
                { title: "Reprodução Humana", shortcode: "RH" }
            ]},
            { name: "Medicina Fetal", modules: [
                { title: "Medicina Fetal I", shortcode: "MF I" },
                { title: "Medicina Fetal II", shortcode: "MF II" },
                { title: "Medicina Fetal III", shortcode: "MF III" }
            ]},
            { name: "Mastologia", modules: [
                { title: "Mastologia I", shortcode: "MAST I" },
                { title: "Mastologia II", shortcode: "MAST II" },
                { title: "Mastologia III", shortcode: "MAST III" },
                { title: "Mastologia IV", shortcode: "MAST IV" }
            ]},
            { name: "Oncologia Ginecológica", modules: [
                { title: "Oncologia Ginecológica I", shortcode: "OG I" },
                { title: "Oncologia Ginecológica II", shortcode: "OG II" },
                { title: "Oncologia Ginecológica III", shortcode: "OG III" }
            ]},
            { name: "Doenças Intercorrentes na Gestação", modules: [
                { title: "Doenças Intercorrentes na Gestação I", shortcode: "DIG I" },
                { title: "Doenças Intercorrentes na Gestação II", shortcode: "DIG II" }
            ]},
            { name: "Infantopuberal", modules: [
                { title: "Infantopuberal I", shortcode: "IP I" },
                { title: "Infantopuberal II", shortcode: "IP II" }
            ]},
            { name: "Ultrassonografia em Ginecologia", modules: [
                { title: "Ultrassonografia em Ginecologia", shortcode: "USGG" }
            ]},
            { name: "Endoscopia Ginecológica", modules: [
                { title: "Endoscopia Ginecológica I - Noções Básicas em Laparoscopia", shortcode: "ENDO I" },
                { title: "Endoscopia Ginecológica II - Puncões, Pneumoperitônio, Meios de Energia e Contraindicações à Laparoscopia", shortcode: "ENDO II" },
                { title: "Endoscopia Ginecológica III - Fundamentos da Histeroscopia", shortcode: "ENDO III" }
            ]},
            { name: "Sexualidade", modules: [
                { title: "Sexualidade", shortcode: "SEX" }
            ]}
        ];

        const modulesDataRaw = [];
        newSpecialtiesWithModules.forEach((specData, index) => {
            specData.modules.forEach(modData => {
                const counts = moduleCountsData[modData.title] || { aulas: 0, apostilas: 0 };
                const links = moduleLinksData[modData.title] || { apostilas: [], aulas: [] }; // Get links for the current module

                modulesDataRaw.push({
                    specialty: specData.name,
                    shortcode: modData.shortcode,
                    title: modData.title,
                    subtitle: specData.name,
                    contentCounts: { aulas: counts.aulas, apostilas: counts.apostilas, aulasBonus: 0 },
                    iconType: gradientClasses[index % gradientClasses.length],
                    contentLinks: { // Populate with actual links from moduleLinksData
                        aulas: links.aulas || [],
                        apostilas: links.apostilas || [],
                        aulasBonus: [] // No bonus lessons for now
                    }
                });
            });
        });

        const specialtyOrder = newSpecialtiesWithModules.map(s => s.name);

        const modulesData = modulesDataRaw.map(mod =>
            createModule(
                mod.specialty,
                mod.shortcode,
                mod.title,
                mod.subtitle,
                mod.contentCounts,
                mod.iconType,
                mod.contentLinks // Pass the populated links
            )
        );

        const modulesListContainer = document.getElementById('modules-list-container');
        const moduleListItemTemplate = document.getElementById('module-list-item-template');
        const moduleContentViewer = document.getElementById('module-content-viewer');
        const detailsContentList = document.getElementById('details-content-list');
        const contentItemTemplate = document.getElementById('content-item-template');
        const searchInput = document.getElementById('search-input');
        const materialsHeader = document.getElementById('materials-header');
        let activeModuleCard = null;
        let activeContentItem = null;

        const contentIcons = {
            aulas: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-400 mr-2 flex-shrink-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>',
            apostilas: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-400 mr-2 flex-shrink-0"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>',
            aulasbonus: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-yellow-400 mr-2 flex-shrink-0"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>',
        };
        const subItemOrder = ['aulas', 'apostilas', 'aulasBonus'];

        function displayModuleDetails(module) {
            materialsHeader.textContent = `MATERIAIS: ${module.title}`;
            detailsContentList.innerHTML = '';
            moduleContentViewer.src = 'about:blank';

            const initialMessage = detailsContentList.querySelector('.initial-details-message');
            if(initialMessage) initialMessage.remove();

            if (!module.content || (module.contentCounts.aulas === 0 && module.contentCounts.apostilas === 0 && module.contentCounts.aulasBonus === 0)) {
                 detailsContentList.innerHTML = '<p class="text-gray-400">Nenhum material cadastrado para este módulo ainda.</p>';
                return;
            }

            let hasContentToList = false;
            let firstPlayableItem = null;

            subItemOrder.forEach(contentTypeKey => {
                const items = module.content[contentTypeKey]; // These are now placeholders with actual URLs if provided
                const countForType = module.contentCounts[contentTypeKey];

                if (countForType > 0) {
                    hasContentToList = true;
                    const sectionTitle = document.createElement('h4');
                    sectionTitle.className = 'text-xs font-semibold text-gray-400 mt-3 mb-1 uppercase tracking-wider';
                    const displayContentType = contentTypeKey === 'aulasBonus' ? 'Aulas Bônus' : contentTypeKey.charAt(0).toUpperCase() + contentTypeKey.slice(1);
                    sectionTitle.textContent = displayContentType;
                    detailsContentList.appendChild(sectionTitle);

                    items.forEach(item => {
                        const itemNode = contentItemTemplate.content.cloneNode(true);
                        const itemDiv = itemNode.querySelector('.content-item');
                        const titleSpan = itemNode.querySelector('.content-title');
                        titleSpan.textContent = item.title;

                        const iconSvgContainer = document.createElement('span');
                        if (contentIcons[contentTypeKey.toLowerCase()]) {
                            iconSvgContainer.innerHTML = contentIcons[contentTypeKey.toLowerCase()];
                            titleSpan.parentNode.insertBefore(iconSvgContainer.firstChild, titleSpan);
                        }

                        itemNode.querySelector('.content-status').textContent = item.status || '';
                        itemDiv.setAttribute('data-url', item.url || '#');

                        if (!firstPlayableItem && item.url && item.url !== '#') {
                            if (contentTypeKey === 'aulas') {
                                firstPlayableItem = itemDiv;
                            } else if (contentTypeKey === 'apostilas' && (!module.content.aulas || !module.content.aulas.some(a => a.url && a.url !== '#'))) {
                                firstPlayableItem = itemDiv;
                            } else if (contentTypeKey === 'aulasBonus' && (!module.content.aulas || !module.content.aulas.some(a => a.url && a.url !== '#')) && (!module.content.apostilas || !module.content.apostilas.some(ap => ap.url && ap.url !== '#'))) {
                                firstPlayableItem = itemDiv;
                            }
                        }

                        itemDiv.addEventListener('click', () => {
                            const contentUrl = itemDiv.getAttribute('data-url');
                            if (contentUrl && contentUrl !== '#') {
                                moduleContentViewer.src = contentUrl;
                                if(activeContentItem) activeContentItem.classList.remove('active-content');
                                itemDiv.classList.add('active-content');
                                activeContentItem = itemDiv;
                            } else {
                                moduleContentViewer.srcdoc = `<div style='color: #a0aec0; display:flex; justify-content:center; align-items:center; height:100%; font-family: Inter, sans-serif;'>Preview não disponível. <br>Link para este material ainda não adicionado.</div>`;
                            }
                        });
                        detailsContentList.appendChild(itemNode);
                    });
                }
            });
             if (!hasContentToList && !(module.contentCounts.aulas === 0 && module.contentCounts.apostilas === 0 && module.contentCounts.aulasBonus === 0)) {
                detailsContentList.innerHTML = '<p class="text-gray-400">Conteúdo será adicionado em breve.</p>';
            }


            if (firstPlayableItem) {
                setTimeout(() => {
                    firstPlayableItem.click();
                }, 0);
            } else if (hasContentToList) {
                 moduleContentViewer.srcdoc = `<div style='color: #a0aec0; display:flex; justify-content:center; align-items:center; height:100%; font-family: Inter, sans-serif;'>Selecione um material da lista. <br>Links para os materiais podem ainda não ter sido adicionados.</div>`;
            }
        }


        function renderModules(modulesToRender) {
            modulesListContainer.innerHTML = '';
            let isFirstModuleOfList = true;
            let firstEverClickableModule = null;

            specialtyOrder.forEach(specialtyName => {
                const modulesInSpecialty = modulesToRender.filter(m => m.specialty === specialtyName);

                if (modulesInSpecialty.length > 0 || specialtyOrder.includes(specialtyName)) {
                    const specialtyHeaderDiv = document.createElement('div');
                    specialtyHeaderDiv.className = 'specialty-header pt-3';
                    specialtyHeaderDiv.innerHTML = `<span>${specialtyName}</span>`;
                    modulesListContainer.appendChild(specialtyHeaderDiv);
                }

                if (modulesInSpecialty.length > 0) {
                    modulesInSpecialty.forEach(module => {
                        const cardNode = moduleListItemTemplate.content.cloneNode(true);
                        const cardDiv = cardNode.querySelector('.module-list-item');
                        cardDiv.dataset.moduleId = module.id;

                        const fullTitle = module.title;
                        const titleParts = fullTitle.split(" - ");
                        const displayTitleInList = titleParts[0];
                        cardNode.querySelector('.module-title').textContent = displayTitleInList;


                        const iconPlaceholder = cardNode.querySelector('.module-icon-box');
                        iconPlaceholder.innerHTML = `<span class="text-sm">${module.shortcode || 'M'}</span>`;
                        
                        iconPlaceholder.className = 'module-icon-box flex-shrink-0';
                        if (module.iconType) {
                            iconPlaceholder.classList.add(module.iconType);
                        } else {
                            iconPlaceholder.classList.add('gradient-gray');
                        }
                        
                        cardNode.querySelector('.aulas-count').textContent = module.contentCounts.aulas;
                        cardNode.querySelector('.apostilas-count').textContent = module.contentCounts.apostilas;
                        cardNode.querySelector('.aulasBonus-count').textContent = module.contentCounts.aulasBonus;

                        cardDiv.addEventListener('click', () => {
                            if (activeModuleCard) {
                                activeModuleCard.classList.remove('active');
                            }
                            cardDiv.classList.add('active');
                            activeModuleCard = cardDiv;
                            if(activeContentItem) activeContentItem.classList.remove('active-content');
                            activeContentItem = null;
                            displayModuleDetails(module);
                        });

                        if (isFirstModuleOfList && modulesToRender.length > 0) {
                            firstEverClickableModule = cardDiv;
                            isFirstModuleOfList = false;
                        }
                        modulesListContainer.appendChild(cardNode);
                    });
                } else if (specialtyOrder.includes(specialtyName)){
                     const noModulesMsg = document.createElement('p');
                    noModulesMsg.className = 'text-xs text-gray-500 text-center pb-2';
                    noModulesMsg.textContent = 'Nenhum módulo encontrado para esta especialidade (ou filtro).';
                    modulesListContainer.appendChild(noModulesMsg);
                }
            });
            
            if (firstEverClickableModule) {
                firstEverClickableModule.click();
            } else if (modulesToRender.length === 0 && modulesData.length > 0) {
                materialsHeader.textContent = 'Nenhum módulo encontrado';
                detailsContentList.innerHTML = '<p class="text-gray-400">Tente um termo de pesquisa diferente.</p>';
                moduleContentViewer.src = 'about:blank';
                if (activeModuleCard) activeModuleCard.classList.remove('active');
                activeModuleCard = null;
                if(activeContentItem) activeContentItem.classList.remove('active-content');
                activeContentItem = null;
            } else if (modulesData.length === 0) {
                 materialsHeader.textContent = 'Nenhum módulo disponível';
                detailsContentList.innerHTML = '<p class="text-gray-400">Nenhum módulo configurado na plataforma.</p>';
                moduleContentViewer.src = 'about:blank';
            }
        }

        renderModules(modulesData);

        if (modulesData.length === 0 && modulesListContainer.children.length === 0 ) {
            materialsHeader.textContent = 'Nenhum módulo disponível';
            detailsContentList.innerHTML = '<p class="text-gray-400">Adicione módulos para começar.</p>';
            moduleContentViewer.src = 'about:blank';
        }

        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = modulesData.filter(module =>
                module.title.toLowerCase().includes(searchTerm) ||
                (module.subtitle && module.subtitle.toLowerCase().includes(searchTerm)) ||
                (module.shortcode && module.shortcode.toLowerCase().includes(searchTerm)) ||
                (module.specialty && module.specialty.toLowerCase().includes(searchTerm))
            );
            renderModules(filtered);

            if (filtered.length === 0) {
                materialsHeader.textContent = 'Nenhum módulo encontrado';
                detailsContentList.innerHTML = '<p class="text-gray-400">Tente um termo de pesquisa diferente.</p>';
                moduleContentViewer.src = 'about:blank';
                if (activeModuleCard) {
                    activeModuleCard.classList.remove('active');
                    activeModuleCard = null;
                }
                if(activeContentItem) activeContentItem.classList.remove('active-content');
                activeContentItem = null;
            }
        });

    </script>
</body>
</html>
